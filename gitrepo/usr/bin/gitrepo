#!/bin/bash

function _help()
{
	echo "
Gitrepo 0.01 ( https://github.com/dekiakbar/LinuxShell )
Usage: gitrepo [Options] 
[Options]
	-c : Check and list all repository
	-h : Show this help
	-n : Create new repository
Happy code"
}

while getopts ":chn:v" opt; do
  case $opt in
	  	c)  read -p "Github Username :" username
			if [[ -n $username ]]; then
				curl -g -u $username  https://api.github.com/user/repos
			else
				echo "Username must be filled"
			fi
			;;

	    h)  _help
			;;

	    n)  read -p 'Github username :' username
			read -p 'Repository Name :' reponame 
			if [[ -n $username && -n $reponame ]]; then
				curl -u $username https://api.github.com/user/repos -d "{\"name\":\"$repo_name\"}"
			else if [[ -z $username ]]; then
				echo "Username must be filled"
			else if [[ -z $reponame ]]; then
				echo "Repository name must be filled"
			fi
			fi
			fi
	      ;;
	    v)	printf "v0.1" ;;
	    \?)	echo "Invalid option: -$OPTARG" >&2 ;;
	    *)	echo "Need an argument!";;
  esac
done

